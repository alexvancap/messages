{"ast":null,"code":"var _jsxFileName = \"/Users/alexandervancappellen/Desktop/messages/client/src/components/home/Home.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'; // to handle state\n\nimport { Header, Icon, Segment } from 'semantic-ui-react'; // imports the semantic components\n\nimport socket from './../../socket.config'; // imports our socket\n\nimport { Statistics } from './Statistics'; // statistics component\n\nexport const Home = props => {\n  const dispatch = useDispatch(); // getting all of your friends from state\n\n  const fetchedFriends = useSelector(state => state.friends.fetchedFriends); // the token saved on the users browser where the user id is saved\n\n  const token = useSelector(state => state.token);\n  useEffect(() => {\n    // makes sure the friends aren't fetched already\n    if (!fetchedFriends) {\n      // sends a request to get all the friends and waits for the server to send a response\n      if (token) {\n        socket.emit('get-friends', token).on('get-friends', data => {\n          // saves the fetched friends to the state\n          dispatch({\n            type: 'UPDATE_FRIEND_LIST',\n            friends: data\n          });\n        });\n      }\n    }\n  }, [token]); // renders the home page\n\n  if (fetchedFriends) return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"home-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    as: \"h2\",\n    icon: true,\n    textAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    color: \"teal\",\n    name: \"user\",\n    circular: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Header.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }, \"Profile\")), /*#__PURE__*/React.createElement(Segment, {\n    id: \"stats-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Statistics, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  })));else {\n    // displays a loader if the fetch request hasn't been made yet\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui active red elastic large loader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 16\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/alexandervancappellen/Desktop/messages/client/src/components/home/Home.js"],"names":["React","useEffect","useDispatch","useSelector","Header","Icon","Segment","socket","Statistics","Home","props","dispatch","fetchedFriends","state","friends","token","emit","on","data","type"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CAAuD;;AACvD,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,OAAvB,QAAsC,mBAAtC,C,CAA0D;;AAC1D,OAAOC,MAAP,MAAmB,uBAAnB,C,CAA2C;;AAC3C,SAASC,UAAT,QAA2B,cAA3B,C,CAA0C;;AAE1C,OAAO,MAAMC,IAAI,GAAIC,KAAD,IAAW;AAC3B,QAAMC,QAAQ,GAAGT,WAAW,EAA5B,CAD2B,CAE3B;;AACA,QAAMU,cAAc,GAAGT,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,OAAN,CAAcF,cAAxB,CAAlC,CAH2B,CAI3B;;AACA,QAAMG,KAAK,GAAGZ,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACE,KAAhB,CAAzB;AAEAd,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA,QAAG,CAACW,cAAJ,EAAmB;AACf;AACA,UAAGG,KAAH,EAAS;AACLR,QAAAA,MAAM,CACLS,IADD,CACM,aADN,EACqBD,KADrB,EAECE,EAFD,CAEI,aAFJ,EAEoBC,IAAD,IAAU;AACzB;AACAP,UAAAA,QAAQ,CAAC;AAACQ,YAAAA,IAAI,EAAE,oBAAP;AAA6BL,YAAAA,OAAO,EAAEI;AAAtC,WAAD,CAAR;AACH,SALD;AAMH;AACJ;AACJ,GAbQ,EAaN,CAACH,KAAD,CAbM,CAAT,CAP2B,CAsB3B;;AACA,MAAGH,cAAH,EACI,oBACI;AAAK,IAAA,EAAE,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,EAAE,EAAC,IAAX;AAAgB,IAAA,IAAI,MAApB;AAAqB,IAAA,SAAS,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,MAAxB;AAA+B,IAAA,QAAQ,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEI,oBAAC,MAAD,CAAQ,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFJ,CADJ,eAKI,oBAAC,OAAD;AAAS,IAAA,EAAE,EAAC,iBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CALJ,CADJ,CADJ,KAYI;AACA;AACA,wBAAO;AAAK,MAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;AACJ,CAvCM","sourcesContent":["import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux' // to handle state\nimport { Header, Icon, Segment } from 'semantic-ui-react' // imports the semantic components\nimport socket from './../../socket.config' // imports our socket\nimport { Statistics } from './Statistics' // statistics component\n\nexport const Home = (props) => {\n    const dispatch = useDispatch()\n    // getting all of your friends from state\n    const fetchedFriends = useSelector(state => state.friends.fetchedFriends)\n    // the token saved on the users browser where the user id is saved\n    const token = useSelector(state => state.token)\n    \n    useEffect(() => {\n        // makes sure the friends aren't fetched already\n        if(!fetchedFriends){\n            // sends a request to get all the friends and waits for the server to send a response\n            if(token){\n                socket\n                .emit('get-friends', token)\n                .on('get-friends', (data) => {\n                    // saves the fetched friends to the state\n                    dispatch({type: 'UPDATE_FRIEND_LIST', friends: data})\n                })\n            }\n        }\n    }, [token])\n\n    // renders the home page\n    if(fetchedFriends)\n        return (\n            <div id=\"home-container\">\n                <Header as='h2' icon textAlign='center'>\n                <Icon color='teal' name='user' circular />\n                    <Header.Content>Profile</Header.Content>\n                </Header>\n                <Segment id=\"stats-container\">\n                    <Statistics />\n                </Segment>\n            </div>\n        )\n    else{\n        // displays a loader if the fetch request hasn't been made yet\n        return <div className=\"ui active red elastic large loader\"></div>\n    }\n}"]},"metadata":{},"sourceType":"module"}