{"ast":null,"code":"var _jsxFileName = \"/Users/alexandervancappellen/Desktop/messages/client/src/components/alert/AlertContainer.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSocket } from '../../hooks/useSocket';\nimport history from './../../history';\nimport { AlertRenderer } from './AlertRenderer'; // holds all the messages\n\nexport const AlertContainer = () => {\n  const dispatch = useDispatch(); // gets all the messages\n\n  const alerts = useSelector(state => state.alerts);\n  const socket = useSocket();\n  useEffect(() => {\n    if (history.location.pathname !== '/login') socket.emit('get-alerts').on('get-alerts', res => {\n      if (res !== undefined) dispatch({\n        type: 'GET_ALERTS',\n        alerts: res\n      });\n    }).on('remove-alert', res => {\n      dispatch({\n        type: 'REMOVE_ALERT',\n        id: res\n      });\n    }).on('create-alert', alert => {\n      console.log(alert);\n    });\n  }, [history.location.pathname]);\n  if (alerts === [] || alerts === undefined || history.location.pathname === '/login') return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  });else return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"alert-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, alerts.map(alert => /*#__PURE__*/React.createElement(AlertRenderer, {\n    key: alert.id,\n    alert: alert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  })));\n};","map":{"version":3,"sources":["/Users/alexandervancappellen/Desktop/messages/client/src/components/alert/AlertContainer.js"],"names":["React","useEffect","useDispatch","useSelector","useSocket","history","AlertRenderer","AlertContainer","dispatch","alerts","state","socket","location","pathname","emit","on","res","undefined","type","id","alert","console","log","map"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,SAASC,aAAT,QAA8B,iBAA9B,C,CAEA;;AACA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAChC,QAAMC,QAAQ,GAAGN,WAAW,EAA5B,CADgC,CAEhC;;AACA,QAAMO,MAAM,GAAGN,WAAW,CAACO,KAAK,IAAIA,KAAK,CAACD,MAAhB,CAA1B;AACA,QAAME,MAAM,GAAGP,SAAS,EAAxB;AAEIH,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGI,OAAO,CAACO,QAAR,CAAiBC,QAAjB,KAA8B,QAAjC,EACIF,MAAM,CACDG,IADL,CACU,YADV,EAEKC,EAFL,CAEQ,YAFR,EAEuBC,GAAD,IAAQ;AACtB,UAAIA,GAAG,KAAKC,SAAZ,EACIT,QAAQ,CAAC;AAACU,QAAAA,IAAI,EAAE,YAAP;AAAqBT,QAAAA,MAAM,EAAEO;AAA7B,OAAD,CAAR;AACP,KALL,EAMKD,EANL,CAMQ,cANR,EAMyBC,GAAD,IAAS;AACzBR,MAAAA,QAAQ,CAAC;AAACU,QAAAA,IAAI,EAAE,cAAP;AAAuBC,QAAAA,EAAE,EAAEH;AAA3B,OAAD,CAAR;AACH,KARL,EASKD,EATL,CASQ,cATR,EASyBK,KAAD,IAAW;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAXL;AAYP,GAdQ,EAcN,CAACf,OAAO,CAACO,QAAR,CAAiBC,QAAlB,CAdM,CAAT;AAgBJ,MAAIJ,MAAM,KAAK,EAAX,IAAiBA,MAAM,KAAKQ,SAA5B,IAAyCZ,OAAO,CAACO,QAAR,CAAiBC,QAAjB,KAA8B,QAA3E,EACI,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,KAKI,oBACI;AAAK,IAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEMJ,MAAM,CAACc,GAAP,CAAYH,KAAK,iBACf,oBAAC,aAAD;AAAe,IAAA,GAAG,EAAEA,KAAK,CAACD,EAA1B;AAA8B,IAAA,KAAK,EAAEC,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFN,CADJ;AAQP,CAnCM","sourcesContent":["import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useSocket } from '../../hooks/useSocket'\nimport history from './../../history'\nimport { AlertRenderer } from './AlertRenderer'\n\n// holds all the messages\nexport const AlertContainer = () => {\n    const dispatch = useDispatch()\n    // gets all the messages\n    const alerts = useSelector(state => state.alerts)\n    const socket = useSocket()\n   \n        useEffect(() => {\n            if(history.location.pathname !== '/login')\n                socket\n                    .emit('get-alerts')\n                    .on('get-alerts', (res) =>{\n                        if (res !== undefined)\n                            dispatch({type: 'GET_ALERTS', alerts: res})\n                    })\n                    .on('remove-alert', (res) => {\n                        dispatch({type: 'REMOVE_ALERT', id: res})\n                    })\n                    .on('create-alert', (alert) => {\n                        console.log(alert)\n                    })\n        }, [history.location.pathname])\n\n    if (alerts === [] || alerts === undefined || history.location.pathname === '/login')\n        return (\n            <div></div>\n        )\n    else\n        return (\n            <div id='alert-container'>\n                {/* itterates over all the massages in state and creates a message component for them*/}\n                { alerts.map( alert => \n                    <AlertRenderer key={alert.id} alert={alert} />\n                ) }\n            </div>\n        )\n}"]},"metadata":{},"sourceType":"module"}